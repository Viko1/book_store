{"version":3,"sources":["actions/books.js","actions/filter.js","actions/cart.js","components/BookCart.jsx","containers/BookCart.js","components/Filter.jsx","containers/Filter.js","components/Menu.jsx","containers/Menu.js","components/App.jsx","containers/App.js","reducers/books.js","reducers/cart.js","reducers/filter.js","reducers/index.js","index.js","store.js"],"names":["setBooks","books","type","payload","setFilter","filter","setSearchQuery","value","addToCart","obj","removeFromCart","id","BookCart","book","title","author","price","image","addedCount","Card","Image","src","wrapped","ui","Content","Header","Meta","className","extra","Icon","name","Button","onClick","bind","connect","cart","items","reduce","count","dispatch","bindActionCreators","cartActions","Filter","filterBy","searchQuery","Menu","secondary","Item","active","Input","onChange","event","target","icon","placeholder","filterActions","CartComponent","List","divided","verticalAlign","floated","color","avatar","menuComponent","totalPrice","position","Popup","trigger","content","map","on","hideOnScroll","total","length","uniqBy","o","App","this","props","axios","get","then","data","isReady","Container","Group","itemsPerRow","i","key","Component","searchBooks","orderBy","sortBy","toLowerCase","indexOf","filterBooks","booksActions","initialState","combineReducers","state","action","store","createStore","rootReducer","applyMiddleware","logger","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d315d3a1.chunk.js","sourcesContent":["export const setBooks = (books) => ({\r\n        type: 'SET_BOOKS',\r\n        payload: books\r\n    });","export const setFilter = filter => ({\r\n    type: 'SET_FILTER',\r\n    payload: filter,\r\n});\r\n\r\nexport const setSearchQuery = value => ({\r\n    type: 'SET_QUERY',\r\n    payload: value,\r\n});","export const addToCart = obj => ({\r\n    type: 'ADD_TO_CART',\r\n    payload: obj,\r\n});\r\n\r\nexport const removeFromCart = id => ({\r\n    type: 'REMOVE_FROM_CART',\r\n    payload: id,\r\n});","import React from 'react';\r\nimport {Card, Icon, Image, Button} from 'semantic-ui-react'\r\n\r\nconst BookCart = (book) => {\r\n    const {title, author, price, image, addToCart, addedCount} = book;\r\n    return (\r\n        <Card>\r\n            <Image src={image} wrapped ui={false}/>\r\n            <Card.Content>\r\n                <Card.Header>{title}</Card.Header>\r\n                <Card.Meta>\r\n                    <span className='date'>{author}</span>\r\n                </Card.Meta>\r\n                <Card.Content extra>\r\n                    <a>\r\n                        <Icon name='euro sign'/>\r\n                        {price}\r\n                    </a>\r\n                </Card.Content>\r\n            </Card.Content>\r\n            <Button onClick={addToCart.bind(this, book)}>\r\n                Add to cart {addedCount > 0 && `(${addedCount})`}\r\n            </Button>\r\n        </Card>\r\n\r\n    );\r\n};\r\n\r\nexport default BookCart;","import {connect} from \"react-redux\";\r\nimport {bindActionCreators} from 'redux'\r\nimport * as cartActions  from '../actions/cart'\r\nimport BookCart from \"../components/BookCart\";\r\n\r\n\r\nconst mapStateToProps = ({cart}, {id}) => ({\r\n    addedCount: cart.items.reduce((count, book) => count + (book.id === id ? 1 : 0),\r\n    0,\r\n        ),\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    ...bindActionCreators(cartActions, dispatch)\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(BookCart);","import React, {Component} from 'react'\r\nimport {Input, Menu} from 'semantic-ui-react'\r\nimport {setSearchQuery} from \"../actions/filter\";\r\n\r\nconst Filter = ({setFilter, filterBy, searchQuery, setSearchQuery}) => {\r\n\r\n    return (\r\n        <Menu secondary>\r\n            <Menu.Item\r\n                name='all'\r\n                active={filterBy === 'all'}\r\n                onClick={setFilter.bind(this, 'all')}\r\n            >All</Menu.Item>\r\n            <Menu.Item\r\n                name='price_high'\r\n                active={filterBy === 'price_high'}\r\n                onClick={setFilter.bind(this, 'price_high')}\r\n            >Sort by high price</Menu.Item>\r\n            <Menu.Item\r\n                name='price_low'\r\n                active={filterBy === 'price_low'}\r\n                onClick={setFilter.bind(this, 'price_low')}\r\n            >Sort by low price</Menu.Item>\r\n            <Menu.Item\r\n                name=\"author\"\r\n                active={filterBy === 'author'}\r\n                onClick={setFilter.bind(this, 'author')}\r\n            >Author</Menu.Item>\r\n            <Menu.Item>\r\n                <Input onChange={event => setSearchQuery(event.target.value)} icon='search' value={searchQuery} placeholder='Search'/>\r\n            </Menu.Item>\r\n        </Menu>\r\n    )\r\n};\r\n\r\nexport default Filter;","import {connect} from \"react-redux\";\r\nimport {bindActionCreators} from 'redux'\r\nimport * as filterActions  from '../actions/filter'\r\nimport Filter from \"../components/Filter\";\r\n\r\n\r\nconst mapStateToProps = ({books, filter}) => ({\r\n    filterBy: filter.filterBy,\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    ...bindActionCreators(filterActions, dispatch)\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Filter);","import React from 'react';\r\nimport {Menu, List, Popup, Button, Image} from 'semantic-ui-react'\r\n\r\nconst CartComponent = ({title, id, image, removeFromCart }) => (\r\n    <List divided verticalAlign='middle'>\r\n        <List.Item>\r\n            <List.Content floated='right'>\r\n                <Button onClick={removeFromCart.bind(this, id)} color={\"red\"}>Remove</Button>\r\n            </List.Content>\r\n            <Image avatar src={image}/>\r\n            <List.Content>{title}</List.Content>\r\n        </List.Item>\r\n    </List>\r\n);\r\n\r\nconst menuComponent = ({totalPrice, count, items}) => (\r\n    <Menu>\r\n        <Menu.Item name='browse'>\r\n            Book Shop\r\n        </Menu.Item>\r\n        <Menu.Menu position='right'>\r\n            <Menu.Item name='signup'>\r\n                Sum: &nbsp; <b>{totalPrice}</b> z≈Ç.\r\n            </Menu.Item>\r\n            <Popup\r\n                trigger={\r\n                    <Menu.Item name='help'>\r\n                        Cart (<b>{count}</b>)\r\n                    </Menu.Item>\r\n                }\r\n                content={items.map(book => <CartComponent {...book}/>)}\r\n                on={\"click\"}\r\n                hideOnScroll\r\n            ></Popup>\r\n        </Menu.Menu>\r\n    </Menu>\r\n);\r\n\r\n\r\nexport default menuComponent;","import {connect} from \"react-redux\";\r\nimport {bindActionCreators} from 'redux'\r\nimport * as cartActions  from '../actions/cart'\r\nimport Menu from \"../components/Menu\";\r\nimport uniqBy from 'lodash/uniqBy'\r\n\r\n\r\nconst mapStateToProps = ({cart}) => ({\r\n    totalPrice: cart.items.reduce((total, book) => total + book.price, 0),\r\n    count: cart.items.length,\r\n    items: uniqBy(cart.items, o => o.id),\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    ...bindActionCreators(cartActions, dispatch)\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Menu);","import React, {Component} from 'react';\r\nimport axios from 'axios'\r\nimport BookCart from '../containers/BookCart'\r\nimport Filter from '../containers/Filter'\r\nimport Menu from '../containers/Menu'\r\nimport {Container, Card} from 'semantic-ui-react'\r\n\r\n\r\nclass App extends Component {\r\n    componentWillMount() {\r\n        const {setBooks} = this.props;\r\n        axios.get('/books.json').then(({data}) => {\r\n            setBooks(data)\r\n        })\r\n    }\r\n\r\n    render() {\r\n        const {books, isReady, setFilter} = this.props;\r\n        return (\r\n\r\n            <Container>\r\n                <Menu/>\r\n                <Filter/>\r\n                <Card.Group itemsPerRow={4}>\r\n                    {!isReady\r\n                        ? 'Loading...'\r\n                        : books.map((book, i) => <BookCart key={i} {...book}/>\r\n                        )\r\n                    }\r\n                </Card.Group>\r\n\r\n            </Container>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default App;\r\n","import {connect} from \"react-redux\";\r\nimport {bindActionCreators} from 'redux'\r\nimport * as booksActions from '../actions/books'\r\nimport * as filterActions  from '../actions/filter'\r\nimport App from '../components/App'\r\nimport orderBy from 'lodash/orderBy'\r\n\r\nconst sortBy = (books, filterBy)=> {\r\n    switch (filterBy) {\r\n        case 'price_high':\r\n            return orderBy(books, 'price', 'desc');\r\n        case 'price_low':\r\n            return orderBy(books, 'price', 'asc');\r\n        case 'author':\r\n            return orderBy(books, 'author', 'asc');\r\n        default:\r\n            return books;\r\n    }\r\n};\r\n\r\nconst filterBooks = (books, searchQuery) =>\r\n    books.filter(\r\n        o =>\r\n        o.title.toLowerCase().indexOf(searchQuery.toLowerCase()) >= 0 ||\r\n        o.author.toLowerCase().indexOf(searchQuery.toLowerCase()) >= 0,\r\n    );\r\n\r\nconst searchBooks = (books, filterBy, searchQuery) => {\r\n    return sortBy(filterBooks(books, searchQuery), filterBy);\r\n};\r\n\r\nconst mapStateToProps = ({books, filter}) => ({\r\n    books:\r\n        books.items &&\r\n        searchBooks(books.items, filter.filterBy, filter.searchQuery),\r\n    isReady: books.isReady\r\n});\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n    ...bindActionCreators(booksActions, dispatch),\r\n    ...bindActionCreators(filterActions, dispatch)\r\n});\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\r\n","const initialState = {\r\n    isReady: false,\r\n    items: null,\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_BOOKS':\r\n            return {\r\n                ...state,\r\n                items: action.payload,\r\n                isReady: true ,\r\n            };\r\n        case 'SET_IS_READY':\r\n            return {\r\n                ...state,\r\n                isReady: action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","const initialState = {\r\n    items: []\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'ADD_TO_CART':\r\n            return {\r\n                ...state,\r\n                items: [\r\n                    ...state.items,\r\n                action.payload\r\n                ],\r\n            };\r\n        case 'REMOVE_FROM_CART':\r\n            return {\r\n                ...state,\r\n                items: state.items.filter(o => o.id != action.payload)\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}","const initialState = {\r\n    searchQuery: '',\r\n    filterBy: 'all',\r\n};\r\n\r\nexport default (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'SET_QUERY':\r\n            return {\r\n                ...state,\r\n                searchQuery: action.payload\r\n            };\r\n        case 'SET_FILTER':\r\n            return {\r\n                ...state,\r\n                filterBy: action.payload\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}","import {combineReducers} from \"redux\";\r\nimport books from './books';\r\nimport cart from './cart';\r\nimport filter from './filter';\r\n\r\n\r\nexport default combineReducers({\r\n    books,\r\n    cart,\r\n    filter,\r\n});","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Provider} from 'react-redux';\r\nimport App from './containers/App';\r\nimport 'semantic-ui-css/semantic.min.css'\r\nimport './app.css'\r\n\r\nimport createStore from './store';\r\nconst store = createStore();\r\n\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App store={store} />\r\n    </Provider>,\r\n    document.getElementById('root'));\r\n\r\n","import { createStore, applyMiddleware } from 'redux';\r\nimport logger from 'redux-logger';\r\n\r\nimport rootReducer from './reducers'\r\n\r\nexport default () => {\r\n    const store = createStore(rootReducer, applyMiddleware(logger));\r\n    return store;\r\n};\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}